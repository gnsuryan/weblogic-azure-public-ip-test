{
    "$schema": "https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
		"principalId": {
		    "type": "string",
		    "metadata": {
		       "description": "Principal ID"
		    }
		 },
		 "const_roleDefinitionIdOfContributor": {
		     "type": "string",
		     "metadata": {
		        "description": "Roledefinition ID"
		     }
		  },
		  "guidRoleValue": {
		     "type": "string",
		     "defaultValue": "[newGuid()]"
		  }
 	 },
	 "resources": [
		{
		    "type": "Microsoft.Authorization/roleAssignments",
		    "apiVersion": "2022-04-01",
		    "name": "[parameters('guidRoleValue')]",
		    "properties": {
		        "description": "Assign subscription scope role to User Assigned Managed Identity ",
		        "principalId": "[parameters('principalId')]",
				"principalType": "ServicePrincipal",
		        "roleDefinitionId": "[subscriptionResourceId('Microsoft.Authorization/roleDefinitions', parameters('const_roleDefinitionIdOfContributor'))]",
				"scope": "[subscription().id]"
		    }
		}
	]
}
	

